<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet"href="booking.css">
    <!-- Font Awesome -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"rel="stylesheet"/>
<!-- Google Fonts -->  
<link
href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"rel="stylesheet"/>
<!-- MDB -->
<link
href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css"rel="stylesheet"/>
</head>
<body onload="onLoaderFunc()">
  <div class="form-box">
    <div class="inputForm">
        <center>
            Name *: <input type="text" id="Username" required><br><br>
            Number of Seats *: <input type="number" id="Numseats" required>
         <br/><br/>
         <button onclick="takeData()">Start Selecting</button>
         
    <button id="start"onclick='writeUserData(Username,Numseats)'>start</button>
        </center>
    </div>

    <div class="seatStructure">
        <center>
          
        <table id="seatsBlock">
         <p id="notification"></p>
          <tr>
            <td colspan="6"><div class="Bus">BUS</div></td>
            <td rowspan="20">
              <div class="smallBox greenBox">Selected Seat</div> <br/>
              <div class="smallBox redBox">Reserved Seat</div><br/>
              <div class="smallBox emptyBox">Empty Seat</div><br/>
            </td>
            
            <br/>
          </tr>
          <tr>
            <td></td>
            <td>1</td>
            <td>2</td>
            <td>3</td>
            <td>4</td>
          </tr>
          <tr>
          <td>A</td>
          <td><input type="checkbox" class="seats" value="A1"></td>
          <td><input type="checkbox" class="seats" value="A2"></td>
          <td class="seatGap"></td>
          <td><input type="checkbox" class="seats" value="A3"></td>
          <td><input type="checkbox" class="seats" value="A4"></td>
        </tr>

        <tr>
            <td>B</td>
            <td><input type="checkbox" class="seats" value="B1"></td>
            <td><input type="checkbox" class="seats" value="B2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="B3"></td>
            <td><input type="checkbox" class="seats" value="B4"></td>
          </tr>

          <tr>
            <td>C</td>
            <td><input type="checkbox" class="seats" value="C1"></td>
            <td><input type="checkbox" class="seats" value="C2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="C3"></td>
            <td><input type="checkbox" class="seats" value="C4"></td>
          </tr>

          <tr>
            <td>D</td>
            <td><input type="checkbox" class="seats" value="D1"></td>
            <td><input type="checkbox" class="seats" value="D2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="D3"></td>
            <td><input type="checkbox" class="seats" value="D4"></td>
          </tr>

          <tr>
            <td>E</td>
            <td><input type="checkbox" class="seats" value="E1"></td>
            <td><input type="checkbox" class="seats" value="E2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="E3"></td>
            <td><input type="checkbox" class="seats" value="E4"></td>
          </tr>

          <tr>
            <td>F</td>
            <td><input type="checkbox" class="seats" value="F1"></td>
            <td><input type="checkbox" class="seats" value="F2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="F3"></td>
            <td><input type="checkbox" class="seats" value="F4"></td>
          </tr>

          <tr>
            <td>G</td>
            <td><input type="checkbox" class="seats" value="G1"></td>
            <td><input type="checkbox" class="seats" value="G2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="G3"></td>
            <td><input type="checkbox" class="seats" value="G4"></td>
          </tr>

          <tr>
            <td>H</td>
            <td><input type="checkbox" class="seats" value="H1"></td>
            <td><input type="checkbox" class="seats" value="H2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="H3"></td>
            <td><input type="checkbox" class="seats" value="H4"></td>
          </tr>

          <tr>
            <td>I</td>
            <td><input type="checkbox" class="seats" value="I1"></td>
            <td><input type="checkbox" class="seats" value="I2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="I3"></td>
            <td><input type="checkbox" class="seats" value="I4"></td>
          </tr>

          <tr>
            <td>J</td>
            <td><input type="checkbox" class="seats" value="J1"></td>
            <td><input type="checkbox" class="seats" value="J2"></td>
            <td class="seatGap"></td>
            <td><input type="checkbox" class="seats" value="J3"></td>
            <td><input type="checkbox" class="seats" value="J4"></td>
          </tr>

          <tr>
            <td>K</td>
            <td><input type="checkbox" class="seats" value="K1"></td>
            <td><input type="checkbox" class="seats" value="K2"></td>
            <td><input type="checkbox" class="seats" value="K3"></td>
            <td><input type="checkbox" class="seats" value="K4"></td>
            <td><input type="checkbox" class="seats" value="K5"></td>
          </tr>
    </table>
  
    <br/>
    <button onclick="updateTextArea()">Confirm Selection</button>
    </center>
    </div>
    
          
    <br/><br/>
    
    <div class="displayerBoxes">
    <center>
      <table class="Displaytable">
      <tr>
        <th>Name</th>
        <th>Number of Seats</th>
        <th>Seats</th>
      </tr>
      <tr>
        <td><textarea id="nameDisplay"></textarea></td>
        <td><textarea id="NumberDisplay"></textarea></td>
        <td><textarea id="seatsDisplay"></textarea></td>
      </tr>
    </table>
  </div><br>
  <center>
  <div class="center">
    <button onclick="location.href='indexs.html'" type="button">
      RETURN TO PAYMENT</button>
    </div>
  </center>
    </center>
    </div>
  </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js'></script><script  src="booking.js"></script>

     <!-- The core Firebase JS SDK is always required and must be listed first -->
     <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>

     <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
     <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-analytics.js"></script>
 
     <!-- Add Firebase products that you want to use -->
   <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-auth.js"></script>
   <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-database.js"></script>
 </body>
 
 <script type="module">          
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
  import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
apiKey: "AIzaSyBBptsU7NSrmE-giGFrtulB9t--2igHz4s",
authDomain: "bus-ticket-reservation-7f9fa.firebaseapp.com",
databaseURL: "https://bus-ticket-reservation-7f9fa-default-rtdb.firebaseio.com",
projectId: "bus-ticket-reservation-7f9fa",
storageBucket: "bus-ticket-reservation-7f9fa.appspot.com",
messagingSenderId: "57977828568",
appId: "1:57977828568:web:c6a79759f30e2b762d93ad",
measurementId: "G-4C8M1H9RSH"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db =getDatabase(app);
  // const dbRef = ref(getDatabase(app));

  document.getElementById("start").addEventListener('click',function writeUserData(Username,Numseats){
    Username =document.getElementById("Username").value
    Numseats =document.getElementById("Numseats").value
   set(ref(db, 'users/newuser' ), {
    Username: Username,
    Numseats:Numseats
    
  });

}
  ) 
 
 </script>
</body>
</html>